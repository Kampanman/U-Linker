# [index.php] ログインセッションのある場合の構成

- 【common-01】ヘッダー

  - ハンバーガーメニューアイコンボタン
  - タイトルロゴ
  - ログアウトアイコンボタン

- 【exises-01】ハンバーガーメニュー内訳コーナー（初期状態では非表示）

  - 検索モードに切り替える
  - お気に入りサイトリストを表示する
  - 別タブで「cURL About」を開く
  - ノート登録編集モードに切り替える
  - ビデオ登録編集モードに切り替える
  - アーカイブノート一覧モードに切り替える
  - アーカイブビデオ一覧モードに切り替える
  - ユーザー登録編集モードに切り替える

- 【common-02】キャッチフレーズ付きクロックコーナー

  - ログインユーザーのユーザー名と権限を反映したキャッチフレーズ
  - クロック

- 【exises-02】ユーザー一覧エリア（初期状態では非表示。ログインユーザーの講師権限が 1 以上の場合に表示）

  - 新規登録ボタン
  - 自分のアカウントを編集ボタン
  - 登録アカウントテーブル
    - ユーザー名
    - 権限
    - 登録日時
    - 編集

- 【exises-03】ユーザー新規登録 or ユーザー情報更新フォーム（初期状態では非表示）

  - ユーザー新規登録の場合（ログインユーザーの講師権限が 1 以上の場合に表示）
    - ユーザー名入力欄
    - ログイン ID（email アドレス）入力欄
    - パスワード入力欄(1)
    - パスワード入力欄(2)
    - ユーザーコメント入力欄
    - 新規登録ボタン
    - リセットボタン
  - ユーザー情報更新の場合（ログインユーザーの講師権限が 1 未満の場合、「ユーザー登録編集モードに切り替える」実行時にはユーザーのアカウント情報が反映された状態のフォームが表示される）
    - ユーザー名入力欄
    - ログイン ID（email アドレス）入力欄
    - 次のいずれかのボタン
      - パスワード入力エリアを表示（押下すると以下が表示される）
        - パスワード入力欄(1)
        - パスワード入力欄(2)
      - パスワードは更新しない
    - ユーザーコメント入力欄
    - ユーザー権限プルダウン
      - ["一般","講師"]
    - 更新ボタン
    - リセットボタン

- 【exises-04】ログインユーザー登録ノート一覧エリア（初期状態では非表示）

  - 新規作成ボタン
  - 登録ノートタイトルテーブル（選択した対象のレコードが反映される）
    - タイトル
    - 登録日
    - 更新日
    - 公開範囲
    - 編集／削除

- 【exises-05】ノート新規登録 or ノート情報更新フォーム（初期状態では非表示）

  - ノートタイトル入力欄
  - URL 入力欄
  - サブリンク URL 入力欄
  - 関連ノート格納先指定テーブルコーナー
    - 関連ノート格納先指定テーブル
      - 選択（チェックボックス）
      - タイトル（[ulinker_notes]テーブルまたは[ulinker_notes ～.csv]ファイル集）
    - 「次のワードをタイトルに含むノートを検索」入力欄
    - 関連ノート検索ボタン
  - 関連ノート・共通ワード設定テーブルコーナー（関連ノート検索ボタン押下時に表示）
    - 関連ノート・共通ワード設定テーブル
      - 選択（チェックボックス）
      - タイトル
      - 関連先との共通ワード
  - 関連ノート・共通ワードリスト（1 件以上設定されている場合に表示）
    - 次のパーツが行ごとにリスト表示される
      - × ボタン
      - 『{ノートタイトル} （共通ワード: {共通ワード}）』
  - 公開設定プルダウン
    - ["公開","講師にのみ公開","非公開"]
  - 選択した部分加工ボタンコーナー
    - 虫食い化するボタン
    - 半角化するボタン
    - 【】で囲むボタン
    - ☆ で囲むボタン
  - ノート本文入力欄
  - ノート本文バイト数
  - 次のいずれかのボタン
    - ノート本文を整形
    - 整形内容確認済み
  - ノート本文をコピーボタン
  - 特定文字一括置換設定コーナー
    - 一括置換対象文字入力欄
    - 一括置換後文字入力欄
    - 対象文字を一括置換するボタン
  - 関連動画 URL 入力ボックス
  - 次のいずれかのボタン
    - これで登録する
    - これで更新する
  - リセットボタン
  - ノートをダウンロードボタン

- 【exises-06】ログインユーザー登録ビデオ一覧エリア（初期状態では非表示）

  - 新規作成ボタン
  - 登録ビデオタイトルテーブル（選択した対象のレコードが反映される）
    - 再生
    - タイトル
    - 登録日
    - 更新日
    - 公開範囲
    - 編集／削除

- 【exises-07】ビデオ新規登録 or ビデオ情報更新フォーム（初期状態では非表示）

  - ビデオタイトル入力欄
  - URL 入力欄
  - ビデオタグ入力欄
  - 公開設定プルダウン
    - ["公開","講師にのみ公開","非公開"]
  - 次のいずれかのボタン
    - これで登録する
    - これで更新する
    - リセット

- 【exises-08】アーカイブノート CSV タイトルテーブル（初期状態では非表示）

  - CSV タイトル
  - 選択

- 【exises-09】対象 CSV アーカイブノート一覧エリア（初期状態では非表示）

  - アーカイブノートタイトルテーブル
    - タイトル
    - 登録日
    - 更新日
    - 公開範囲
    - 編集

- 【exises-10】CSV ノート情報更新フォーム（初期状態では非表示）

  - ※基本的には「ノート新規登録 or ノート情報更新フォーム」の流用でよい
    - ノートタイトル入力欄
    - URL 入力欄
    - サブリンク URL 入力欄
    - 関連ノート格納先指定テーブルコーナー
      - 関連ノート格納先指定テーブル
        - 選択（チェックボックス）
        - タイトル（[ulinker_notes ～.csv]ファイル集）
      - 「次のワードをタイトルに含むノートを検索」入力欄
      - 関連ノート検索ボタン
    - 関連ノート・共通ワード設定テーブルコーナー
      - 関連ノート・共通ワード設定テーブル
        - 選択（チェックボックス）
        - タイトル
        - 関連先との共通ワード
    - 関連ノート・共通ワードリスト（1 件以上設定されている場合に表示）
      - 次のパーツが行ごとにリスト表示される
        - × ボタン
        - 『{ノートタイトル} （共通ワード: {共通ワード}）』
    - 公開設定プルダウン
      - ["公開","講師にのみ公開","非公開"]
    - 選択した部分加工ボタンコーナー
      - 虫食い化するボタン
      - 半角化するボタン
      - 【】で囲むボタン
      - ☆ で囲むボタン
    - ノート本文入力欄
    - ノート本文バイト数
    - 次のいずれかのボタン
      - ノート本文を整形
      - 整形内容確認済み
    - ノート本文をコピーボタン
    - 特定文字一括置換設定コーナー
      - 一括置換対象文字入力欄
      - 一括置換後文字入力欄
      - 対象文字を一括置換するボタン
    - 関連動画 URL 入力ボックス
    - CSV 行データをダウンロードボタン
    - リセット

- 【exises-11】アーカイブビデオ CSV タイトルテーブル（初期状態では非表示）

  - CSV タイトル
  - 選択

- 【exises-12】対象 CSV アーカイブビデオ一覧エリア（初期状態では非表示）

  - アーカイブビデオタイトルテーブル
    - タイトル
    - 登録日
    - 更新日
    - 公開範囲
    - 編集

- 【exises-13】CSV ビデオ情報更新フォーム（初期状態では非表示）

  - ※基本的には「ビデオ新規登録 or ビデオ情報更新フォーム」の流用でよい
    - ビデオタイトル入力欄
    - URL 入力欄
    - ビデオタグ入力欄
    - 公開設定プルダウン
      - ["公開","講師にのみ公開","非公開"]
  - CSV 行データをダウンロードボタン
  - リセット

- 【common-03】検索フォーム（初期状態で表示する）

  - 検索ワード入力欄
  - 除外ワード入力欄
  - タイトル/本文・タグ切り替えボタン
  - AND/OR 切り替えボタン
  - 登録ユーザー名入力欄
  - 登録日時範囲選択カレンダー
    - 開始日
    - 終了日
  - 表示件数プルダウン
    - [10,50,100,500]
  - 検索対象ノート・ビデオデータ選択テーブル
    - 選択（チェックボックス）
    - タイトル
  - 対話型 AI プロンプト構成項目チェックリストエリア（チェックボックス）
    - 基本形
      - 定義について教えてもらう
      - 例文を作ってもらう
      - 印象的なエピソードを教えてもらう
      - 連想される単語をいくつか教えてもらう
      - 記憶しやすいストーリー文を作ってもらう
    - 問題・事件などネガティブなこと
      - 発生してしまった原因を教えてもらう
      - 不利益を被った人や対象を教えてもらう
      - なかなか解決・改善しない原因を教えてもらう
      - 再発防止のための有効な手立てをおしえてもらう
    - 人為的にできたもの
      - できた背景について教えてもらう
      - 起きた変化や良い効果について教えてもらう
      - メリット／デメリットについて教えてもらう
      - 推進した代表的な人物を教えてもらう
    - 人物
      - その人の特徴を教えてもらう
      - 特徴的な実績を教えてもらう
      - 深い関係のある人物を教えてもらう
      - 利害関係のある人物や団体・組織を教えてもらう
    - 地域
      - 名物や有名な特産品を教えてもらう
      - 特有の文化や特徴的な古くからの風習を教えてもらう
      - 歴史上特に有名な出来事を教えてもらう
  - 対話型 AI プロンプト入力ボックス
  - 対話型 AI プロンプト入力ボックスコピーボタン
  - 検索＆プロンプト作成ボタン
  - Perplexity-ai にアクセスボタン（検索実行後に表示される）
  - リロードボタン

- 【common-04】検索結果表示ノートエリア（初期状態では非表示）

  - 該当ノートテーブル
    - 公開範囲
    - ノートタイトル（リンク付き）
    - サブリンク
    - 登録日時
    - 「表示」ボタン
  - 選択中のノートエリア（「表示」ボタン押下で表示）
    - ノートタイトル（リンク付き）
    - 登録者名
    - サブリンク
    - 関連ノート・共通ワード集（設定されている場合に表示される）
      - 設定されている件数分、次のパーツがにリスト表示される
        - 『{ノートタイトル} （共通ワード: {共通ワード}）』
    - 最終更新日
    - (Ver1.1 追加分) キーワード含有行数
    - モードプルダウン
      - ["全文表示モード","ブラインドスタートモード","行読み上げモード","範囲選択・加工モード"]
    - モードプルダウンの選択状態で表示機能を分ける
      - 全文表示モードの場合
        - ノートをダウンロードボタン（押下後は非表示になる）
        - ノート本文
      - ブラインドスタートモードの場合
        - ノートをダウンロードボタン（押下後は非表示になる）
        - 以下のパーツが行ごとに表示される
          - 行頭に見出し記号（["●","■","◆","◇","☆"]のいずれか）が記述されている場合
            - 本文の i 番目の行
          - 行頭が見出し記号ではない場合
            - 表示するボタン
      - 行読み上げモードの場合
        - ノートをダウンロードボタン（押下後は非表示になる）
        - 以下のパーツが行ごとに表示される
          - 読み上げボタン
          - 本文の i 番目の行
      - 範囲選択・加工モードの場合
        - 選択範囲で加工ノートを作成ボタン（押下後は非表示になる）
        - 選択範囲で加工ノートを作成ボタン押下前は、以下のパーツが行ごとに表示される
          - 次のいずれかのボタン
            - 指定開始
            - 範囲終了
            - 単体選択
            - 選択済み
            - 選択不可
          - 本文の i 番目の行
        - 選択範囲で加工ノートを作成ボタン押下後は、以下のパーツが表示される
          - 加工ノート作成入力ボックス（選択した範囲のテキストが反映されている）
          - 虫食い化するボタン
          - 【】で囲むボタン
          - ☆ で囲むボタン
          - ノートをダウンロードボタン（押下後は非表示になる）
    - 関連動画（ログインユーザーが登録したノートである場合のみ表示される）
      - 設定されていない場合
        - 『関連動画:』ラベルの右横には『設定なし』と表示する
      - 設定されている場合
        - i つめの動画を表示ボタンを、設定されている動画 URL の数（最大 5 つ）だけ表示

- 【common-05】検索結果表示ビデオエリア（初期状態では非表示）

  - 該当ビデオテーブル
    - 公開範囲
    - ビデオタイトル
    - 登録日時
    - 「表示」ボタン
  - 選択中のビデオエリア（「表示」ボタン押下で表示）
    - ビデオタイトル
    - 登録タグ
    - 登録者名
    - 最終更新日
    - ビデオフレーム

- 【exises-14】お気に入りサイトリスト（初期状態では非表示）

  - 新規登録ボタン
  - お気に入りサイト一覧テーブル
    - タイトル（リンク付き）
    - 編集／削除
  - サイト情報登録編集フォーム
    - サイト名入力欄
    - サイト URL 入力欄
    - 登録/更新ボタン

- 【exises-15】停止アカウント・ユーザー登録データ削除フォーム（初期状態では非表示）

  - 停止中アカウント一覧テーブル
    - チェックボックス
    - ユーザー名
    - ノート登録数
    - ビデオ登録数
  - アカウント・登録データを削除ボタン
  - リセットボタン
