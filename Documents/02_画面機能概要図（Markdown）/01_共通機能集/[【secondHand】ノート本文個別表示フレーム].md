# [【secondHand】ノート本文個別表示フレーム]

- 【secondHand】機能説明
  - 特徴・機能
    - [【common-04】検索結果表示ノートエリア]で、「全文表示モード」時に別タブで表示ボタンを押下すると、API通信後にこの画面に遷移する
      - API通信成功後にセッションに格納される次のパラメータが、それぞれ当画面用の変数に反映される
        - 16桁半角英数字で構成される「page_token」
          - 変数「pageToken」に反映される
        - 選択されたノートのcontents_idを格納する「selected_note_id」
          - 変数「selectedNote.contentsId」に反映される
        - 選択されたノートのtitleを格納する「selected_note_title」
          - 変数「selectedNote.title」に反映される
        - 選択されたノートのtextを格納する「selected_note_text」
          - 変数「selectedNote.text」に反映される
  - 関連機能
    - [【common-04】検索結果表示ノートエリア]
  - 関連変数
    - selectedNote.contentsId（int型）
    - selectedNote.title（String型）
    - selectedNote.text（String型）
    - pageToken（String型）
- 【secondhand-01】ヘッダー
  - 特徴・機能
    - 本サービス「U-Linker」のブラウザページヘッダー
    - ノート本文個別表示フレームの場合は、タイトルロゴのみ表示する
  - 関連変数
    - なし
  - 【secondhand-01-01】タイトルロゴ
    - 特徴・機能
      - 本サービス「U-Linker」のタイトルロゴ
      - 当ページでは押下しても何も変化は起きない
- 【secondhand-02】ノート本文個別表示フレーム
  - 特徴・機能
    - ログインセッションの有無にかかわらず、選択されたノートのタイトル・本文が反映される
    - URLには、API通信を経て発行され、セッションストレージ「page_token」に記録された値をパラメータとして設定する必要がある
      - ?page_token={セッションストレージ「page_token」の値}
    - 次の場合は、画面上にはノートタイトル・本文ではなくエラーメッセージを表示する
      - 「page_token」のパラメータが設定されていない場合
        - 「ページトークンが設定されていない為、ノートを表示できません。」
      - 「page_token」のパラメータがセッションストレージ「page_token」の値と異なる場合
        - 「パラメータのページトークンがセッション値と異なる為、ノートを表示できません。」
    - アカウントを有するユーザーが、未ログイン状態でこの画面にノートのタイトル・本文を反映して閲覧していた場合
      - ログインしてセッションそのものが更新されると、この画面はリロードした際にエラーとなる
    - ユーザーがログイン状態でこの画面にノートのタイトル・本文を反映して閲覧していた場合
      - ログアウトしてセッションが破棄されると、この画面はリロードした際にエラーとなる
  - 関連変数
    - selectedNote.contentsId（int型）
    - selectedNote.title（String型）
    - selectedNote.text（String型）
    - pageToken（String型）
  - 【secondhand-02-01】ノートタイトル
    - 特徴・機能
      - 選択されたノートのタイトルが表示される
      - 内部データ「data-contents-id」には、「selectedNote.contentsId」が格納される
      - エラーが発生している場合は非表示
    - 関連変数
      - selectedNote.contentsId（int型）
      - selectedNote.title（String型）
  - 【secondhand-02-02】関連ノート
    - 特徴・機能
      - 選択されたノートに紐づく関連ノートが一覧表示される
      - エラーが発生している場合は非表示
    - 関連変数
      - selectedNote.contentsId（int型）
      - selectedNote.relateNotesAndWords（Object型）
  - 【secondhand-02-03】ノート本文
    - 特徴・機能
      - 選択されたノートの本文が表示される
      - エラーが発生している場合は非表示
    - 関連変数
      - selectedNote.text（String型）
  - 【secondhand-02-04】閉じるボタン
    - 特徴・機能
      - 押下すると、この画面が閉じられる
    - 関連変数
      - なし
