# [ulinker_accounts]テーブル構成

- テーブルの概要
  - 本サービス「U-Linker」の各ユーザーのアカウントデータを格納する
- カラムの設定・構造
  - 「owner_id」列
    - 格納内容（コメント）
      - アカウントの一意識別のための ID 値
    - 型と字数
      - varchar(16)
    - デフォルト値
      - なし
    - NULL の可否
      - 不可
    - キー制約・その他
      - プライマリーキー
  - 「name」列
    - 格納内容（コメント）
      - ユーザー名
    - 型と字数
      - varchar(32)
    - デフォルト値
      - なし
    - NULL の可否
      - 不可
    - キー制約・その他
      - 照合順序は「utf8mb4_general_ci」
  - 「email」列
    - 格納内容（コメント）
      - メールアドレス。ログイン時に入力する
    - 型と字数
      - varchar(256)
    - デフォルト値
      - なし
    - NULL の可否
      - 不可
    - キー制約・その他
      - 照合順序は「utf8mb4_general_ci」
  - 「password」列
    - 格納内容（コメント）
      - パスワード。ログイン時に入力する
    - 型と字数
      - text
    - デフォルト値
      - なし
    - NULL の可否
      - 不可
    - キー制約・その他
      - 照合順序は「utf8mb4_general_ci」
  - 「is_master」列
    - 格納内容（コメント）
      - 1 の場合に本テーブルの統括管理者であることを示す
      - 「is_teacher」が 1 のユーザーのうち id が最も若いユーザーが該当する
      - 統括管理者以外のアカウントは自動的に 0 に設定される
    - 型と字数
      - int(2)
    - デフォルト値
      - 0
    - NULL の可否
      - 不可
    - キー制約・その他
      - なし
  - 「is_teacher」列
    - 格納内容（コメント）
      - 講師権限
      - 0 が一般（講師権限なし）、1 が講師
    - 型と字数
      - int(2)
    - デフォルト値
      - 0
    - NULL の可否
      - 不可
    - キー制約・その他
      - なし
  - 「token」列
    - 格納内容（コメント）
      - パスワードリセットメール送信時に設定されるワンタイムトークン
      - URL パラメータに設定された「onetime_token」の値と合致している場合に、パスワード再設定ページが表示される
      - ユーザーがログインすると NULL にリセットされる
    - 型と字数
      - varchar(16)
    - デフォルト値
      - NULL
    - NULL の可否
      - 可
    - キー制約・その他
      - 照合順序は「utf8mb4_general_ci」
  - 「token_limit」列
    - 格納内容（コメント）
      - ワンタイムトークンの有効期限。登録形式は「yyyy-MM-dd hh:mm:ss」
      - ユーザーがログインすると NULL にリセットされる
    - 型と字数
      - datetime
    - デフォルト値
      - NULL
    - NULL の可否
      - 可
    - キー制約・その他
      - 照合順序は「utf8mb4_general_ci」
  - 「comment」列
    - 格納内容（コメント）
      - ユーザーの個別コメント
    - 型と字数
      - varchar(108)
    - デフォルト値
      - NULL
    - NULL の可否
      - 可
    - キー制約・その他
      - 照合順序は「utf8mb4_general_ci」
  - 「is_stopped」列
    - 格納内容（コメント）
      - 利用停止フラグ
      - 1 が停止中を示す。停止中でなければ 0
    - 型と字数
      - int(2)
    - デフォルト値
      - 0
    - NULL の可否
      - 不可
    - キー制約・その他
      - なし
  - 「created_at」列
    - 格納内容（コメント）
      - アカウントの登録日。登録形式は「yyyy-MM-dd hh:mm:ss」
    - 型と字数
      - datetime
    - デフォルト値
      - なし
    - NULL の可否
      - 不可
    - キー制約・その他
      - なし
  - 「updated_at」列
    - 格納内容（コメント）
      - アカウントの更新日。登録形式は「yyyy-MM-dd hh:mm:ss」
    - 型と字数
      - datetime
    - デフォルト値
      - なし
    - NULL の可否
      - 不可
    - キー制約・その他
      - なし
  - 「updated_user_id」列
    - 格納内容（コメント）
      - アカウントの登録者の ID
      - owner_id の値がここに格納される
    - 型と字数
      - varchar(16)
    - デフォルト値
      - なし
    - NULL の可否
      - 不可
    - キー制約・その他
      - なし
